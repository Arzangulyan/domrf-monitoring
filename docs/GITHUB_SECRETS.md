# Настройка GitHub Secrets для автоматического деплоя

## Обязательные секреты

Перейдите в `Settings > Secrets and variables > Actions` вашего репозитория и добавьте следующие секреты:

### Telegram настройки
- **TG_TOKEN**: Токен вашего Telegram бота (получить у @BotFather)
- **TG_CHAT_ID**: ID чата для уведомлений (получить у @userinfobot)

### Настройки сервера
- **HOST**: IP адрес или домен вашего сервера
- **USERNAME**: Имя пользователя для SSH подключения
- **SSH_KEY**: Приватный SSH ключ для подключения к серверу

### Настройки мониторинга (опционально)
- **MONITOR_MODE**: `all` или `liner` (по умолчанию: `all`)
- **CHECK_INTERVAL**: Интервал проверки в минутах (по умолчанию: `60`)

## Как получить токен бота

1. Напишите @BotFather в Telegram
2. Отправьте команду `/newbot`
3. Введите имя бота и username
4. Скопируйте полученный токен

## Как получить Chat ID

1. Напишите @userinfobot в Telegram
2. Отправьте любое сообщение
3. Скопируйте ваш User ID

## Настройка SSH ключа

```bash
# Генерация нового SSH ключа
ssh-keygen -t ed25519 -C "github-actions"

# Копирование публичного ключа на сервер
ssh-copy-id -i ~/.ssh/id_ed25519.pub user@your-server

# Содержимое приватного ключа добавить в GitHub Secret SSH_KEY
cat ~/.ssh/id_ed25519
```

## Автоматический деплой

После настройки секретов, каждый push в main ветку будет автоматически:
1. Собирать Docker образ
2. Подключаться к серверу по SSH
3. Останавливать старый контейнер
4. Запускать новый контейнер с обновленным кодом
