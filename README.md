# ะะะ.ะะค ะะพะฝะธัะพัะธะฝะณ ะะฒะฐััะธั

Telegram ะฑะพั ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ ะฝะพะฒัั ะบะฒะฐััะธั ะฝะฐ ัะฐะนัะต ะฐัะตะฝะดะฐ.ะดะพะผ.ัั

## ๐ ะะพะทะผะพะถะฝะพััะธ

- โ **ะะฒะพะนะฝะพะน ัะตะถะธะผ ะผะพะฝะธัะพัะธะฝะณะฐ**: ะะ ะะฐะนะฝะตั ะธะปะธ ะฒัะต ะบะฒะฐััะธัั ะฒ ะะพัะบะฒะต
- โ **ะะณะฝะพะฒะตะฝะฝัะต ัะฒะตะดะพะผะปะตะฝะธั** ะฒ Telegram ั ะฟะพะดัะพะฑะฝะพะน ะธะฝัะพัะผะฐัะธะตะน
- โ **ะฃะผะฝะพะต ะพััะปะตะถะธะฒะฐะฝะธะต** ัะพััะพัะฝะธั (ะฑะตะท ะดัะฑะปะธะบะฐัะพะฒ)
- โ **ะะฒัะพะผะฐัะธัะตัะบะธะต ะฟัะพะฒะตัะบะธ** ะบะฐะถะดัะต 60 ะผะธะฝัั
- โ **Docker ะบะพะฝัะตะนะฝะตัะธะทะฐัะธั** ะดะปั ะฟัะพััะพะณะพ ะดะตะฟะปะพั
- โ **CI/CD ัะตัะตะท GitHub Actions** ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ะพะฑะฝะพะฒะปะตะฝะธั
- โ **Production-ready** ั health checks ะธ restart policies

## โก ะัััััะน ััะฐัั

### 1. ะะฐัััะพะนะบะฐ Telegram ะฑะพัะฐ

1. ะกะพะทะดะฐะนัะต ะฑะพัะฐ: ะฝะฐะฟะธัะธัะต @BotFather โ `/newbot`
2. ะะพะปััะธัะต ัะพะบะตะฝ ะฑะพัะฐ
3. ะะพะปััะธัะต Chat ID: ะฝะฐะฟะธัะธัะต @userinfobot

### 2. ะะฐะฟััะบ ั Docker Compose (ัะตะบะพะผะตะฝะดัะตััั)

```bash
# ะะปะพะฝะธัะพะฒะฐะฝะธะต
git clone https://github.com/your-username/domrf-monitoring.git
cd domrf-monitoring

# ะะฐัััะพะนะบะฐ ะพะบััะถะตะฝะธั
cp .env.example .env
nano .env  # ะฃะบะฐะถะธัะต ะฒะฐัะธ TG_TOKEN ะธ TG_CHAT_ID

# ะะฐะฟััะบ
cd deploy && docker-compose up -d

# ะะพะฝะธัะพัะธะฝะณ ะปะพะณะพะฒ
cd deploy && docker-compose logs -f domrf-monitor
```

### 3. ะะพะบะฐะปัะฝัะน ะทะฐะฟััะบ ะดะปั ัะฐะทัะฐะฑะพัะบะธ

```bash
# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
pip install -r requirements.txt
playwright install chromium

# ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั
export TG_TOKEN="your_bot_token"
export TG_CHAT_ID="your_chat_id" 
export MONITOR_MODE="all"

# ะะฐะฟััะบ
python src/bot_liner_monitor.py
```

## ๐ง ะะพะฝัะธะณััะฐัะธั

| ะะตัะตะผะตะฝะฝะฐั | ะะฟะธัะฐะฝะธะต | ะะฝะฐัะตะฝะธั | ะะพ ัะผะพะปัะฐะฝะธั |
|------------|----------|----------|--------------|
| `TG_TOKEN` | ะขะพะบะตะฝ Telegram ะฑะพัะฐ | string | **ะพะฑัะทะฐัะตะปัะฝะพ** |
| `TG_CHAT_ID` | ID ัะฐัะฐ ะดะปั ัะฒะตะดะพะผะปะตะฝะธะน | number | **ะพะฑัะทะฐัะตะปัะฝะพ** |
| `MONITOR_MODE` | ะะตะถะธะผ ะผะพะฝะธัะพัะธะฝะณะฐ | `all`/`liner` | `all` |
| `CHECK_INTERVAL` | ะะฝัะตัะฒะฐะป ะฟัะพะฒะตัะบะธ (ะผะธะฝ) | number | `60` |

### ะะตะถะธะผั ะผะพะฝะธัะพัะธะฝะณะฐ

- **`all`**: ะัะต ะบะฒะฐััะธัั ะฒ ะะพัะบะฒะต (~5 ะบะฒะฐััะธั ะพะฑััะฝะพ)
- **`liner`**: ะขะพะปัะบะพ ะะ ะะฐะนะฝะตั (ัะธะปัััะฐัะธั ะฟะพ ะฝะฐะทะฒะฐะฝะธั)

## ๐ข ะะฒัะพะผะฐัะธัะตัะบะธะน ะดะตะฟะปะพะน

### ะะฐัััะพะนะบะฐ GitHub Actions

1. **ะคะพัะบะฝะธัะต ัะตะฟะพะทะธัะพัะธะน**
2. **ะะพะฑะฐะฒััะต ัะตะบัะตัั** ะฒ `Settings > Secrets and variables > Actions`:
   ```
   TG_TOKEN=ะฒะฐั_ัะพะบะตะฝ_ะฑะพัะฐ
   TG_CHAT_ID=ะฒะฐั_chat_id
   HOST=ip_ะฐะดัะตั_ัะตัะฒะตัะฐ
   USERNAME=ะธะผั_ะฟะพะปัะทะพะฒะฐัะตะปั_ssh
   SSH_KEY=ะฟัะธะฒะฐัะฝัะน_ssh_ะบะปัั
   ```
3. **Push ะฒ main** โ ะฐะฒัะพะผะฐัะธัะตัะบะธะน ะดะตะฟะปะพะน!

ะะพะดัะพะฑะฝัะต ะธะฝััััะบัะธะธ: [docs/GITHUB_SECRETS.md](docs/GITHUB_SECRETS.md)

## ๐ ะััะธัะตะบัััะฐ ะฟัะพะตะบัะฐ

```
โโโ ๐ src/                     # ะััะพะดะฝัะน ะบะพะด
โ   โโโ ๐ค bot_liner_monitor.py # ะัะฝะพะฒะฝะพะน ะฑะพั ั ะดะฒัะผั ัะตะถะธะผะฐะผะธ  
โ   โโโ ๐ debug_parser.py      # ะัะปะฐะดะบะฐ ะฟะฐััะธะฝะณะฐ ัะฐะนัะฐ
โโโ ๐ scripts/                 # ะกะบัะธะฟัั ะทะฐะฟััะบะฐ ะธ ัะตััะธัะพะฒะฐะฝะธั
โ   โโโ ๐ run_all_mode.sh      # ะะฐะฟััะบ ัะตะถะธะผะฐ "ะฒัะต ะบะฒะฐััะธัั"
โ   โโโ ๐ run_liner_mode.sh    # ะะฐะฟััะบ ัะตะถะธะผะฐ "ะะ ะะฐะนะฝะตั"  
โ   โโโ ๐งช test_modes.py        # ะขะตััะธัะพะฒะฐะฝะธะต ะฒัะตั ัะตะถะธะผะพะฒ
โ   โโโ โ test_project.sh      # ะะพะผะฟะปะตะบัะฝะพะต ัะตััะธัะพะฒะฐะฝะธะต
โโโ ๏ฟฝ deploy/                  # ะะพะฝัะธะณััะฐัะธั ะดะตะฟะปะพั
โ   โโโ ๏ฟฝ๐ณ Dockerfile           # Multi-stage production build
โ   โโโ ๐ docker-compose.yml   # ะะพะบะฐะปัะฝัะน ะทะฐะฟััะบ
โ   โโโ โ๏ธ  liner.service       # Systemd ัะตัะฒะธั
โโโ ๐ docs/                    # ะะพะบัะผะตะฝัะฐัะธั
โ   โโโ ๐ QUICK_DEPLOY.md      # ะัััััะน ะดะตะฟะปะพะน
โ   โโโ ๐ GITHUB_SECRETS.md    # ะะฐัััะพะนะบะฐ ัะตะบัะตัะพะฒ
โ   โโโ ๐ฑ TELEGRAM_SETUP.md    # ะะฐัััะพะนะบะฐ Telegram
โ   โโโ ๐ป DEVELOPMENT.md       # ะขะตัะฝะธัะตัะบะฐั ะดะพะบัะผะตะฝัะฐัะธั
โโโ ๐ .github/workflows/       # CI/CD ะฐะฒัะพะผะฐัะธะทะฐัะธั
โ   โโโ โ๏ธ  deploy.yml          # GitHub Actions
โโโ ๐ requirements.txt         # Python ะทะฐะฒะธัะธะผะพััะธ
โโโ ๐ง .env.example             # ะัะธะผะตั ะบะพะฝัะธะณััะฐัะธะธ
โโโ ๏ฟฝ LICENSE                  # MIT ะปะธัะตะฝะทะธั
```

## ๐๏ธ ะัะปะฐะดะบะฐ ะธ ัะตััะธัะพะฒะฐะฝะธะต

### ะัะพะฒะตัะบะฐ ะฟะฐััะธะฝะณะฐ ัะฐะนัะฐ
```bash
python src/debug_parser.py
```

### ะขะตััะธัะพะฒะฐะฝะธะต ัะฒะตะดะพะผะปะตะฝะธะน
```bash
python scripts/test_modes.py
```

### ะัะพัะผะพัั ะปะพะณะพะฒ Docker
```bash
# ะัะต ะปะพะณะธ
cd deploy && docker-compose logs -f

# ะขะพะปัะบะพ ะพัะธะฑะบะธ  
cd deploy && docker-compose logs --tail=100 domrf-monitor | grep -i error
```

### ะัะพะฒะตัะบะฐ ัะพััะพัะฝะธั ะบะพะฝัะตะนะฝะตัะฐ
```bash
cd deploy && docker-compose ps
cd deploy && docker-compose exec domrf-monitor python -c "import requests; print('OK')"
```

## ๐ ะะพะฝะธัะพัะธะฝะณ ะฒ production

ะะพั ะฐะฒัะพะผะฐัะธัะตัะบะธ:
- ๐ ะะตัะตะทะฐะฟััะบะฐะตััั ะฟัะธ ะพัะธะฑะบะฐั (`restart: unless-stopped`)
- ๐ ะัะพะฒะตััะตั health status ะบะฐะถะดัะต 5 ะผะธะฝัั
- ๐ ะะตะดะตั ะฟะพะดัะพะฑะฝัะต ะปะพะณะธ ั timestamp
- ๐พ ะกะพััะฐะฝัะตั ัะพััะพัะฝะธะต ะฒ `state_all.json`

## ๐ค ะะฐะทัะฐะฑะพัะบะฐ

```bash
# ะฃััะฐะฝะพะฒะบะฐ dev ะทะฐะฒะธัะธะผะพััะตะน
pip install -r requirements.txt

# ะัะพะฒะตัะบะฐ ะบะพะดะฐ
python -m py_compile *.py

# ะขะตััะธัะพะฒะฐะฝะธะต ัะตะถะธะผะพะฒ
./scripts/test_project.sh
```

## ๐ ะะพะดะดะตัะถะบะฐ

ะะพะดัะพะฑะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ะฒ ะฟะฐะฟะบะต `docs/`:
- ๐ [ะัััััะน ะดะตะฟะปะพะน](docs/QUICK_DEPLOY.md)
- ๐ [ะะฐัััะพะนะบะฐ GitHub Secrets](docs/GITHUB_SECRETS.md)  
- ๐ฑ [ะะฐัััะพะนะบะฐ Telegram](docs/TELEGRAM_SETUP.md)
- ๐ป [ะขะตัะฝะธัะตัะบะฐั ะดะพะบัะผะตะฝัะฐัะธั](docs/DEVELOPMENT.md)

ะัะธ ะฟัะพะฑะปะตะผะฐั ะฟัะพะฒะตัััะต:
1. ๐ ะัะฐะฒะธะปัะฝะพััั ัะพะบะตะฝะพะฒ ะฒ `.env`
2. ๐ ะะพัััะฟะฝะพััั ัะฐะนัะฐ ะฐัะตะฝะดะฐ.ะดะพะผ.ัั
3. ๐ฑ ะะฐะฑะพัั Telegram API
4. ๐ณ ะะพะณะธ Docker ะบะพะฝัะตะนะฝะตัะฐ
